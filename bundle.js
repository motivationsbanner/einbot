!function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=10)}([function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.toString=function(){return"Card"},t}();r.Card=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){t[t.RED=0]="RED",t[t.YELLOW=1]="YELLOW",t[t.GREEN=2]="GREEN",t[t.BLUE=3]="BLUE"}(r.Color||(r.Color={}))},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=function(t){function r(r){var e=t.call(this)||this;return e.card=r,e}return o(r,t),r}(e(3).PlayerAction);r.PlayCardAction=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.PlayerAction=n},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=e(0),a=e(1),c=function(t){function r(r){var e=t.call(this)||this;return e.color=r,e}return o(r,t),r.prototype.isPlayable=function(t){if(!(t instanceof i.Card))return!1;var e=t;return this.color===e.color||t instanceof r},r.prototype.toString=function(){return a.Color[this.color]+" Direction Card"},r.prototype.onPlay=function(t){t.switchDirection()},r}(i.Card);r.DirectionCard=c},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=e(0),a=e(1),c=function(t){function r(r){var e=t.call(this)||this;return e.color=r,e}return o(r,t),r.prototype.isPlayable=function(t){if(!(t instanceof i.Card))return!1;var e=t;return this.color===e.color||t instanceof r},r.prototype.toString=function(){return a.Color[this.color]+" Draw Card"},r.prototype.onPlay=function(t){t.addDrawCards(2)},r}(i.Card);r.DrawCard=c},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=e(0),a=e(1),c=function(t){function r(r,e){var n=t.call(this)||this;return n.color=r,n.value=e,n}return o(r,t),r.prototype.isPlayable=function(t){if(!(t instanceof i.Card))return!1;var e=t;return this.color===e.color||t instanceof r&&this.value===e.value},r.prototype.toString=function(){return a.Color[this.color]+" "+this.value},r.prototype.onPlay=function(t){},r}(i.Card);r.NumberCard=c},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=e(0),a=e(1),c=function(t){function r(r){var e=t.call(this)||this;return e.color=r,e}return o(r,t),r.prototype.isPlayable=function(t){if(!(t instanceof i.Card))return!1;var e=t;return this.color===e.color||t instanceof r},r.prototype.toString=function(){return a.Color[this.color]+" Skip Card"},r.prototype.onPlay=function(t){t.skipPlayer()},r}(i.Card);r.SkipCard=c},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=e(0),a=e(1),c=function(t){function r(r){void 0===r&&(r=a.Color.BLUE);var e=t.call(this)||this;return e.color=r,e}return o(r,t),r.prototype.isPlayable=function(t){return!0},r.prototype.toString=function(){return a.Color[this.color]+" Wild Card"},r.prototype.onPlay=function(t){},r.prototype.setColor=function(t){this.color=t},r}(i.Card);r.WildCard=c},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=e(0),a=e(1),c=function(t){function r(r){void 0===r&&(r=a.Color.BLUE);var e=t.call(this)||this;return e.color=r,e}return o(r,t),r.prototype.isPlayable=function(t){return!0},r.prototype.toString=function(){return a.Color[this.color]+" Wild Draw Card"},r.prototype.onPlay=function(t){t.addDrawCards(4)},r.prototype.setColor=function(t){this.color=t},r}(i.Card);r.WildDrawCard=c},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(11),o=e(16),i=e(17),a=e(19),c=new i.SimpleHTMLLogger(document.querySelector(".log")),s=[new a.BasicPlayer("basicPlayer1"),new a.BasicPlayer("basicPlayer2"),new a.BasicPlayer("basicPlayer3"),new a.BasicPlayer("basicPlayer4")],u=new n.Game(s,c);c.info("running 1000 games"),c.mute();for(var l=0;l<1e3;l++)u.startGame(!0);c.unmute(),c.info(u.playerStatistic),c.info("visualizing a game");new o.GameBoard(u,document.querySelector(".board"))},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(2),o=e(12),i=e(14),a=function(){function t(t,r){void 0===r&&(r=null),this.players=t,this.logger=r,this.drawStack=new o.DrawStack,this.gameStack=new i.GameStack,this.running=!1,this.activePlayerIndex=0,this.direction=!1,this.drewCard=!1,this.skip=!1,this.drawCards=0}return t.prototype.startGame=function(t){this.direction=!1,this.drewCard=!1,this.skip=!1,this.drawCards=0;for(var r=0,e=this.players;r<e.length;r++){var n=e[r];this.drawStack.addCardsToStack(n.hand),n.hand=[]}this.gameStack.addCardsToDrawStack(this.drawStack,!1),this.gameStack.initialize(this.drawStack.draw());for(var o=0,i=this.players;o<i.length;o++){n=i[o];for(var a=0;a<7;a++)n.hand.push(this.drawStack.draw())}for(this.running=!0,this.logInfo("Starting the game with the following Players: "+this.players.join(", "));this.running&&t;)this.playTurn()},t.prototype.getDrawStackSize=function(){return this.drawStack.length},Object.defineProperty(t.prototype,"topCard",{get:function(){return this.gameStack.topCard},enumerable:!0,configurable:!0}),t.prototype.switchDirection=function(){this.direction=!this.direction},t.prototype.addDrawCards=function(t){this.drawCards+=t},t.prototype.playTurn=function(){for(var t=this.currentPlayer.play(this);this.drawCards>0;)this.currentPlayerDrawCard(),this.drawCards--;if(t instanceof n.PlayCardAction){var r=this.currentPlayer.hand.indexOf(t.card,0);if(r>-1&&this.currentPlayer.hand.splice(r,1),this.gameStack.addCard(t.card),t.card.onPlay(this),this.logInfo(this.currentPlayer+" played a "+t.card),0===this.currentPlayer.hand.length){this.running=!1,this.logInfo(this.currentPlayer+" won"),this.currentPlayer.wins++;for(var e=0,o=this.players;e<o.length;e++){o[e].games++}return}1===this.currentPlayer.hand.length&&this.logInfo(this.currentPlayer+" UNO"),this.logInfo(this.currentPlayer+" ended their turn"),this.endTurn()}else this.drewCard?(this.logInfo(this.currentPlayer+" ended their turn"),this.endTurn()):(this.currentPlayerDrawCard(),this.playTurn())},Object.defineProperty(t.prototype,"playerStatistic",{get:function(){for(var t="",r=0,e=this.players;r<e.length;r++){var n=e[r];t=t+n.playerName+" Games: "+n.games+" Wins: "+n.wins+"\n"}return t},enumerable:!0,configurable:!0}),t.prototype.printPlayerStatistic=function(){this.logInfo(this.playerStatistic)},t.prototype.skipPlayer=function(){this.endTurn()},t.prototype.isRunning=function(){return this.running},t.prototype.currentPlayerDrawCard=function(){0===this.getDrawStackSize()&&this.gameStack.addCardsToDrawStack(this.drawStack,!0),this.currentPlayer.hand.push(this.drawStack.draw()),this.drewCard=!0,this.logInfo(this.currentPlayer+" drew a card "+this.currentPlayer.hand[this.currentPlayer.hand.length-1])},Object.defineProperty(t.prototype,"currentPlayer",{get:function(){return this.players[this.activePlayerIndex]},enumerable:!0,configurable:!0}),t.prototype.logInfo=function(t){null!==this.logger&&this.logger.info(t)},t.prototype.endTurn=function(){this.drewCard=!1,this.direction?this.activePlayerIndex++:this.activePlayerIndex+=this.players.length-1,this.activePlayerIndex%=this.players.length},t}();r.Game=a},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(4),o=e(5),i=e(6),a=e(7),c=e(13),s=e(8),u=e(9),l=function(){function t(){this.createCards(),this.shuffle()}return t.prototype.draw=function(){return this.cards.pop()},t.prototype.addCardsToStack=function(t){this.cards=this.cards.concat(t)},Object.defineProperty(t.prototype,"length",{get:function(){return this.cards.length},enumerable:!0,configurable:!0}),t.prototype.shuffle=function(){for(var t,r=0;r<this.length;r++){var e=Math.floor(Math.random()*(this.length-r))+r;t=[this.cards[e],this.cards[r]],this.cards[r]=t[0],this.cards[e]=t[1]}},t.prototype.createCards=function(){this.cards=[];for(var t=0;t<4;t++){for(var r=1;r<10;r++)for(var e=0;e<2;e++)this.cards.push(new i.NumberCard(t,r));for(e=0;e<2;e++)this.cards.push(new o.DrawCard(t)),this.cards.push(new a.SkipCard(t)),this.cards.push(new n.DirectionCard(t));this.cards.push(new i.NumberCard(t,c.Value.ZERO)),this.cards.push(new s.WildCard(t)),this.cards.push(new u.WildDrawCard(t))}},t}();r.DrawStack=l},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.TWO=2]="TWO",t[t.THREE=3]="THREE",t[t.FOUR=4]="FOUR",t[t.FIVE=5]="FIVE",t[t.SIX=6]="SIX",t[t.SEVEN=7]="SEVEN",t[t.EIGHT=8]="EIGHT",t[t.NINE=9]="NINE"}(r.Value||(r.Value={}))},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(15),o=function(){function t(){this.cards=[]}return t.prototype.initialize=function(t){this.cards=[t]},t.prototype.addCard=function(t){if(void 0===this.cards||void 0===this.topCard)throw new n.InvalidActionException("the gameStack didn't get initialized");if(!t.isPlayable(this.topCard))throw new n.InvalidActionException(t+" can not get played on top of "+this.topCard);this.cards.push(t)},Object.defineProperty(t.prototype,"length",{get:function(){return this.cards.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topCard",{get:function(){return this.cards[this.cards.length-1]},enumerable:!0,configurable:!0}),t.prototype.addCardsToDrawStack=function(t,r){void 0===r&&(r=!0),t.addCardsToStack(this.cards.splice(0,this.length-(r?1:0))),t.shuffle()},t}();r.GameStack=o},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o(r,t),r}(Error);r.InvalidActionException=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(4),o=e(5),i=e(6),a=e(7),c=e(8),s=e(9),u=function(){function t(t,r){var e=this;this.ORIGINAL_CARD_WIDTH=240,this.ORIGINAL_CARD_HEIGHT=360,this.defaultSettings={canvasHeight:320,canvasWidth:1280},this.cardsImage=new Image,this.factor=.2;var n=document.createElement("canvas");n.height=this.defaultSettings.canvasHeight,n.width=this.defaultSettings.canvasWidth,this.context=n.getContext("2d"),r.appendChild(n),this.cardsImage.addEventListener("load",function(){t.startGame(!1),e.renderGameState(t);var r=window.setInterval(function(){t.playTurn(),e.renderGameState(t),t.isRunning()||window.clearInterval(r)},500)}),this.cardsImage.src="images/cards.svg"}return t.prototype.renderGameState=function(t){this.context.clearRect(0,0,this.defaultSettings.canvasWidth,this.defaultSettings.canvasHeight);var r=0;this.drawCardAt(0,0,t.topCard),this.drawCardAt(0,80,null);for(var e=0,n=t.players;e<n.length;e++){for(var o=70,i=0,a=n[e].hand;i<a.length;i++){var c=a[i];this.drawCardAt(o,r,c),o+=40}r+=80}},t.prototype.drawCardAt=function(t,r,e){var n=this.getCardsImageCoordinates(e);this.context.drawImage(this.cardsImage,n.x*this.ORIGINAL_CARD_WIDTH,n.y*this.ORIGINAL_CARD_HEIGHT,this.ORIGINAL_CARD_WIDTH+2,this.ORIGINAL_CARD_HEIGHT+2,t,r,this.ORIGINAL_CARD_WIDTH*this.factor,this.ORIGINAL_CARD_HEIGHT*this.factor)},t.prototype.getCardsImageCoordinates=function(t){return t instanceof i.NumberCard?{x:t.value,y:t.color}:t instanceof a.SkipCard?{x:10,y:t.color}:t instanceof n.DirectionCard?{x:11,y:t.color}:t instanceof o.DrawCard?{x:12,y:t.color}:t instanceof c.WildCard?{x:13,y:0}:t instanceof s.WildDrawCard?{x:13,y:4}:{x:0,y:4}},t}();r.GameBoard=u},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=function(t){function r(r){var e=t.call(this)||this;return e.element=r,e.muted=!1,e}return o(r,t),r.prototype.mute=function(){this.muted=!0},r.prototype.unmute=function(){this.muted=!1},r.prototype.info=function(t){this.muted||(this.element.appendChild(document.createTextNode(t+"\n")),this.element.scrollTop=this.element.scrollHeight)},r}(e(18).Logger);r.SimpleHTMLLogger=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.info=function(t){},t.prototype.error=function(t){},t}();r.Logger=n},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=e(20),a=e(2),c=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o(r,t),r.prototype.play=function(t){for(var r=0,e=this.hand;r<e.length;r++){var n=e[r];if(n.isPlayable(t.topCard))return new a.PlayCardAction(n)}return new i.PassAction},r}(e(21).Player);r.BasicPlayer=c},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});Object.defineProperty(r,"__esModule",{value:!0});var i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return o(r,t),r}(e(3).PlayerAction);r.PassAction=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this.name=t,this.hand=[],this.wins=0,this.games=0}return Object.defineProperty(t.prototype,"playerName",{get:function(){return this.name},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.playerName},t}();r.Player=n}]);
//# sourceMappingURL=bundle.js.map